import{d as y,r as i,u as v,E as x,v as b,c as k,o as d,e as n,f as t,F as w,q as h,t as l,l as _,j as p,s as B,B as E}from"./app-4aaa95f7.js";import{_ as N}from"./DataForm.vue_vue_type_script_setup_true_lang-c1ce27ca.js";import{s as V}from"./Category-ccc6bb69.js";import"./FilterStore-fc34adbf.js";const $={class:"flex flex-col"},j={class:"-m-1.5 overflow-x-auto"},C={class:"p-1.5 min-w-full inline-block align-middle"},U={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden dark:bg-slate-900 dark:border-gray-700"},D={class:"px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-b border-gray-200 dark:border-gray-700"},F={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},R={class:"text-sm text-gray-600 dark:text-gray-400"},T={class:"px-6 py-4"},q={key:1,class:"flex items-center justify-center p-4"},G=y({__name:"edit",setup(z){const s=i({name:"",description:"",status:V.active,meta_title:"",meta_description:"",meta_keywords:"",meta_robots:"",filters:[]}),c=i({}),m=v(),u=x(),o=i(!1),f=async()=>{if(m.params.id){o.value=!0;try{const{data:e}=await B.get(`/dashboard/categories/${m.params.id}`);if(e.ok){s.value={id:e.category.id,name:e.category.name,description:e.category.description,status:e.category.status,meta_title:e.category.meta_title,meta_description:e.category.meta_description,meta_keywords:e.category.meta_keywords,meta_robots:e.category.meta_robots,filters:e.category.filters??[]},await E(()=>{o.value=!1});return}await u.push({name:"categories.index"})}catch{await u.push({name:"categories.index"})}}};return b(async()=>await f()),(e,a)=>{const g=k("v-loader");return d(),n("div",$,[t("div",j,[t("div",C,[t("div",U,[o.value?p("",!0):(d(),n(w,{key:0},[t("div",D,[t("div",null,[t("h2",F,[a[2]||(a[2]=t("i",{class:"icon mgc_edit_2_fill"},null,-1)),h(" "+l(e.$t("Edit"))+" - "+l(s.value.name),1)]),t("p",R,l(e.$t("Update category informations and save it to your database")),1)])]),t("div",T,[_(N,{"form-data":s.value,"onUpdate:form":a[0]||(a[0]=r=>s.value=r),errors:c.value,"onUpdate:errors":a[1]||(a[1]=r=>c.value=r)},null,8,["form-data","errors"])])],64)),o.value?(d(),n("div",q,[_(g,{size:4,dark:!0})])):p("",!0)])])])])}}});export{G as default};
