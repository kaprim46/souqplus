import{d as V,N as L,E as j,b,c as N,o as l,e as i,g as r,F as c,f as e,t as d,j as m,q as g,k as y,l as S,P as _,Q as F,T as $,h as U,R as T,B as E}from"./app-4aaa95f7.js";import{u as z}from"./CustomerCategoryStore-cea6d995.js";import{u as A}from"./FilterStore-fc34adbf.js";import{u as D}from"./SubSubCategoryStore-6dacdc52.js";import{_ as M}from"./Options.vue_vue_type_script_setup_true_lang-00d5c27b.js";const O={class:"px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto flex flex-col gap-5"},P={class:"flex flex-col"},q={class:"text-4xl font-extrabold text-prussianblue dark:text-gray-300 flex items-center gap-1"},I={class:"block"},Q={class:"text-base text-gray-500 dark:text-gray-400"},G={class:"flex flex-col md:flex-row items-start gap-5 w-full"},H={key:0,class:"bg-white rounded-xl shadow-sm w-full md:w-[18rem] dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7] flex flex-col"},J={class:"px-4 py-2 border-b"},K={class:"text-lg font-semibold text-gray-800 dark:text-gray-300"},W={class:"px-4 py-2"},X=["id","value"],Y=["for"],Z={class:"text-gray-800 dark:text-gray-300"},ee={class:"px-4 py-4 bg-gray-50 rounded-lg mt-4 mb-4 shadow-sm border border-gray-200"},te={class:"block text-base font-bold mb-4 text-gray-800 dark:text-white tracking-wide"},se={class:"space-y-3"},re=["id","value","disabled"],ae=["for"],oe={class:"px-4 py-2"},le={class:"w-full flex-1 flex flex-col gap-5"},ie={class:"flex rounded-lg shadow-sm"},ne=["placeholder"],de={class:"flex flex-col divide-y divide-gray-200 ads-list"},ue={key:0,class:"w-full max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-200 dark:border-gray-700"},ce={class:"text-sm text-gray-600 dark:text-gray-400"},ge={class:"font-semibold text-gray-800 dark:text-gray-200"},fe={class:"inline-flex gap-x-2"},pe=["disabled"],be=["disabled"],me=["src"],ye={key:1,class:"flex flex-col gap-5"},Ce=V({__name:"show",setup(xe){const t=L(),n=z(),x=A(),f=D(),u=j(),B=a=>{t.filters.category_filter=a,t.fetch()},R=async()=>{!u.currentRoute.value.params.slug&&!u.currentRoute.value.params.sub||await n.fetchCategory(u.currentRoute.value.params.slug).then(async()=>{var a,s,p;await t.resetAll()&&(t.filters.category=(a=n.category)==null?void 0:a.id,t.filters.pagination=1,u.currentRoute.value.params.sub?(t.filters.sub_category=parseInt(u.currentRoute.value.params.sub),await x.getFiltersBySubCategory(t.filters.sub_category)):await x.getFiltersByCategory((s=n.category)==null?void 0:s.id),await E(),await n.fetchSubCategories((p=n.category)==null?void 0:p.id),await t.fetch())})};return b(()=>u.currentRoute.value.params,async(a,s)=>{!a.slug&&!a.sub||await R()},{immediate:!0}),b(()=>t.filters.sub_category,async a=>{a?(await f.fetchSubSubCategories(a),t.filters.sub_sub_category=null):(f.subSubCategories=[],t.filters.sub_sub_category=null)},{immediate:!0}),b(()=>t.filters.sub_sub_category,async a=>{await t.fetch()}),b(()=>t.filters.search,async(a,s)=>{s&&await t.fetch()},{immediate:!0}),(a,s)=>{var k,w,v,C;const p=N("v-skeleton");return l(),i("div",O,[r(n).isLoading?m("",!0):(l(),i(c,{key:0},[e("div",P,[e("h1",q,[e("span",I,d((k=r(n).category)==null?void 0:k.name),1)]),e("p",Q,d((w=r(n).category)==null?void 0:w.description),1)]),s[5]||(s[5]=e("hr",null,null,-1))],64)),e("div",G,[r(n).subCategories.length?(l(),i("div",H,[e("div",J,[e("h2",K,[s[6]||(s[6]=e("i",{class:"icon mgc_filter_3_fill"},null,-1)),g(" "+d(a.$t("Sub Categories")),1)])]),e("ul",W,[(l(!0),i(c,null,y(r(n).subCategories,o=>(l(),i("li",{key:o.id,class:"flex items-center gap-2"},[_(e("input",{type:"radio",id:`sub-${o.id}`,value:o.id,"onUpdate:modelValue":s[0]||(s[0]=h=>r(t).filters.sub_category=h)},null,8,X),[[$,r(t).filters.sub_category]]),e("label",{for:`sub-${o.id}`,class:"flex items-center gap-2 cursor-pointer"},[e("span",Z,d(o.name),1)],8,Y)]))),128))]),e("div",ee,[e("label",te,[s[7]||(s[7]=e("i",{class:"icon mgc_layers_fill mr-2"},null,-1)),g(" "+d(a.$t("Sub Sub Category")),1)]),e("ul",se,[(l(!0),i(c,null,y(r(f).subSubCategories,o=>(l(),i("li",{key:o.id,class:"flex items-center gap-3"},[_(e("input",{type:"radio",id:`subsub-${o.id}`,value:o.id,"onUpdate:modelValue":s[1]||(s[1]=h=>r(t).filters.sub_sub_category=h),disabled:!r(f).subSubCategories.length,class:"form-radio h-4 w-4 text-blue-600 border-gray-300 focus:ring focus:ring-blue-200"},null,8,re),[[$,r(t).filters.sub_sub_category]]),e("label",{for:`subsub-${o.id}`,class:"flex items-center gap-2 cursor-pointer text-gray-700 dark:text-gray-300 text-sm"},d(o.name),9,ae)]))),128))])]),e("div",oe,[S(M,{data:r(x).data_filters_category,"onOn:update":B,"initial-data":r(n).category.filters},null,8,["data","initial-data"])])])):m("",!0),e("div",le,[e("div",null,[s[9]||(s[9]=e("label",{for:"search_ads",class:"sr-only"},"Label",-1)),e("div",ie,[_(e("input",{class:"py-3 px-4 block w-full border-gray-200 shadow-sm rounded-s-lg text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",name:"search_ads",id:"search_ads",type:"text",placeholder:a.$t("Search for ads"),"onUpdate:modelValue":s[2]||(s[2]=o=>r(t).filters.search=o)},null,8,ne),[[F,r(t).filters.search]]),s[8]||(s[8]=e("button",{type:"button",class:"w-[2.875rem] h-[2.875rem] flex-shrink-0 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-e-md border border-transparent bg-[#0C74BB] text-white hover:bg-[#0C74CC]"},[e("svg",{class:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.3-4.3"})])],-1))])]),!r(t).isLoading&&!r(n).isLoading?(l(),i(c,{key:0},[e("div",de,[(l(!0),i(c,null,y(r(t).advertisements,o=>(l(),U(T,{key:o.id,advertisement:o},null,8,["advertisement"]))),128))]),!r(t).isLoading&&((v=r(t).advertisements)!=null&&v.length)?(l(),i("div",ue,[e("div",null,[e("p",ce,[e("span",ge,d(r(t).pagination.total),1),g(" "+d(a.$t("Results")),1)])]),e("div",null,[e("div",fe,[e("button",{onClick:s[3]||(s[3]=o=>r(t).fetch(!0,!0)),disabled:r(t).pagination.current_page===1,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[s[10]||(s[10]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1)),g(" "+d(a.$t("Previous")),1)],8,pe),e("button",{onClick:s[4]||(s[4]=o=>r(t).fetch(!0)),disabled:r(t).pagination.current_page===r(t).pagination.last_page,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[g(d(a.$t("Next"))+" ",1),s[11]||(s[11]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m9 18 6-6-6-6"})],-1))],8,be)])])])):m("",!0),!r(t).isLoading&&!((C=r(t).advertisements)!=null&&C.length)?(l(),i("img",{key:1,src:`${a.$assetUrl}/empty-trash.svg`,alt:"Empty",class:"w-[40rem]"},null,8,me)):m("",!0)],64)):(l(),i("div",ye,[(l(),i(c,null,y(5,o=>S(p,{"loop-number":3,key:o})),64))]))])])])}}});export{Ce as default};
