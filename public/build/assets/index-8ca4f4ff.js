import{d as M,E as L,N as T,a as V,m as E,x as U,v as z,B as D,c as y,o as n,e as i,g as l,F as m,f as t,t as r,k as F,j as d,q as c,l as g,h as C,i as u,n as P,C as p}from"./app-4aaa95f7.js";const R={class:"px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto flex flex-col gap-5"},Y={class:"text-xl md:text-4xl font-extrabold text-prussianblue dark:text-gray-300 flex items-center gap-1"},q={class:"block"},H={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full"},G=["src","alt"],I={class:"flex flex-col gap-1 flex-1"},J={class:"flex items-center gap-1"},K={class:"text-sm text-gray-500"},O={key:0},Q={class:"flex items-center gap-1"},W={class:"text-sm text-gray-500"},X={key:0,class:"flex items-center gap-1"},Z={class:"flex items-center gap-1"},tt={class:"text-sm text-gray-500"},et={class:"flex justify-end items-center gap-2"},st={key:1,class:"text-sm text-gray-500"},ot=["onClick"],lt=["src"],nt={key:2,class:"py-4 grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-50 dark:border-gray-700 w-full"},rt={class:"text-sm text-gray-600 dark:text-gray-400"},it={class:"font-semibold text-gray-800 dark:text-gray-200"},at={class:"inline-flex gap-x-2"},dt=["disabled"],ct=["disabled"],ut={key:1,class:"flex justify-center items-center"},xt=M({__name:"index",setup(gt){const $=L(),o=T(),B=V(),S=E(),A=U("$swal"),j=async a=>{const{value:s}=await A.fire({title:p("Are you sure?"),text:p("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:p("Yes, delete it!"),cancelButtonText:p("No, cancel!"),reverseButtons:!0});s&&await o.deleteAdvertisement({id:a.id})};return z(async()=>{await o.resetAll()&&(o.filters.pagination=1,await D(),await o.fetchMyAdvertisements())}),(a,s)=>{const f=y("router-link"),x=y("v-button"),N=y("v-loader");return n(),i("div",R,[l(o).isLoading?(n(),i("div",ut,[g(N,{color:"blue",size:8})])):(n(),i(m,{key:0},[t("h1",Y,[s[2]||(s[2]=t("i",{class:"icon mgc_building_1_line"},null,-1)),t("span",q,r(a.$t("My ads")),1)]),s[13]||(s[13]=t("hr",null,null,-1)),l(o).advertisements?(n(),i("div",H,[(n(!0),i(m,null,F(l(o).advertisements,e=>{var k,h,b,w,v;return n(),i("div",{class:"bg-white border border-gray-200 rounded overflow-hidden flex flex-col md:flex-row w-full gap-5 p-2",key:e.id},[(k=e.main_media)!=null&&k.url?(n(),C(f,{key:0,class:"w-full md:w-[100px] h-[18rem] md:h-[100px] object-cover rounded-lg relative overflow-hidden",to:{name:"show-advertisement",params:{id:e.id,slug:e.slug||"details"}}},{default:u(()=>[t("img",{class:"absolute h-full w-full object-cover",src:e.main_media.url,alt:e.name},null,8,G)]),_:2},1032,["to"])):d("",!0),t("div",I,[g(f,{class:"text-lg font-semibold text-gray-800 dark:text-gray-300 dark:hover:text-white",to:{name:"show-advertisement",params:{id:e.id,slug:e.slug||"details"}}},{default:u(()=>[c(r(e.name),1)]),_:2},1032,["to"]),t("div",J,[s[3]||(s[3]=t("i",{class:"icon mgc_location_line"},null,-1)),t("span",K,[c(r((h=e==null?void 0:e.country)==null?void 0:h.name)+" ",1),(b=e==null?void 0:e.city)!=null&&b.id?(n(),i("span",O," - "+r((w=e==null?void 0:e.city)==null?void 0:w.name),1)):d("",!0)])]),t("div",Q,[s[4]||(s[4]=t("i",{class:"icon mgc_receive_money_line"},null,-1)),t("span",W,r(e.price?`${e.price} ${l(B).appSettings.app_currency}`:"--"),1)]),e.status?(n(),i("div",X,[s[5]||(s[5]=t("i",{class:"icon mgc_check_line"},null,-1)),t("span",{class:P(["text-sm",a.$statusHexColor(e.status)])},r(a.$t(e.status)),3)])):d("",!0),t("div",Z,[s[6]||(s[6]=t("i",{class:"icon mgc_calendar_line"},null,-1)),t("span",tt,r(e.created_at),1)]),t("div",et,[(v=l(S).me)!=null&&v.is_verified?(n(),i(m,{key:0},[e.post_as_story?d("",!0):(n(),C(x,{key:0,color:"prussianblue",circle:!0,onClick:_=>l(o).postAsStore(e)},{default:u(()=>[...s[7]||(s[7]=[t("i",{class:"icon mgc_history_2_line"},null,-1)])]),_:1},8,["onClick"])),e.post_as_story?(n(),i("span",st,[s[8]||(s[8]=t("i",{class:"icon mgc_history_2_line"},null,-1)),c(" "+r(a.$t("Posted as story"))+", ",1),t("span",{class:"cursor-pointer text-red-800",onClick:_=>l(o).unpostAsStore(e)},r(a.$t("Unpost")),9,ot)])):d("",!0)],64)):d("",!0),g(x,{color:"red",circle:!0,onClick:_=>j(e)},{default:u(()=>[...s[9]||(s[9]=[t("i",{class:"icon mgc_delete_2_line"},null,-1)])]),_:1},8,["onClick"]),g(x,{color:"blue",circle:!0,onClick:_=>l($).push({name:"edit-advertisement",params:{id:e.id}})},{default:u(()=>[...s[10]||(s[10]=[t("i",{class:"icon mgc_edit_2_line"},null,-1)])]),_:1},8,["onClick"])])])])}),128))])):d("",!0),!l(o).isLoading&&!l(o).advertisements.length?(n(),i("img",{key:1,src:`${a.$assetUrl}/empty-trash.svg`,alt:"Empty",class:"w-[40rem]"},null,8,lt)):d("",!0),!l(o).isLoading&&l(o).advertisements.length?(n(),i("div",nt,[t("div",null,[t("p",rt,[t("span",it,r(l(o).pagination.total),1),c(" "+r(a.$t("Results")),1)])]),t("div",null,[t("div",at,[t("button",{onClick:s[0]||(s[0]=e=>l(o).fetchMyAdvertisements(!0,!0)),disabled:l(o).pagination.current_page===1,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[s[11]||(s[11]=t("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m15 18-6-6 6-6"})],-1)),c(" "+r(a.$t("Previous")),1)],8,dt),t("button",{onClick:s[1]||(s[1]=e=>l(o).fetchMyAdvertisements(!0)),disabled:l(o).pagination.current_page===l(o).pagination.last_page,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[c(r(a.$t("Next"))+" ",1),s[12]||(s[12]=t("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m9 18 6-6-6-6"})],-1))],8,ct)])])])):d("",!0)],64))])}}});export{xt as default};
