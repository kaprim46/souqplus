import{d as G,m as z,N as A,r as k,u as T,E as V,b as L,z as O,c as p,o as r,e as d,F as u,f as e,J as q,q as c,t as l,j as v,g as n,h as C,i as g,n as E,l as f,k as m,s as H,B as Z,R as D}from"./app-4aaa95f7.js";import{u as I}from"./CustomerCategoryStore-cea6d995.js";import{u as J}from"./CountryStore-2b00879a.js";const P={class:"relative"},K={class:"relative block h-[350px] overflow-hidden rounded-2xl"},Q={class:"container mx-auto px-4"},W={class:"translate-y-[180px] relative flex flex-col min-w-0 break-words bg-transparent w-full -mt-60"},X={class:"p-6"},Y={class:"relative"},ee=["src"],te={class:"text-center mb-4"},se={class:"text-3xl font-semibold leading-tight flex items-center gap-2 justify-center"},oe={key:0,class:"text-blue-400"},le=["innerHTML"],ie={class:"flex flex-col lg:flex-row lg:justify-between gap-5 items-center"},ne={class:"flex flex-col md:flex-row gap-2 lg:items-center"},re={href:"#",class:"flex items-center gap-1 text-gray-600"},ae={class:"uppercase font-semibold text-[13.3px]",dir:"ltr"},de={href:"#",class:"flex items-center gap-1 text-gray-600"},ue={class:"uppercase font-semibold text-[13.3px]"},ce={class:"flex items-center gap-5"},fe={class:"flex gap-2 items-end"},ge={class:"flex items-center"},_e={class:"px-2 flex flex-col items-center justify-center"},pe={class:"text-2xl font-semibold"},ve={class:"text-blueGray-400"},me={class:"px-2 flex flex-col items-center justify-center"},be={class:"text-2xl font-semibold"},ye={class:"text-blueGray-400"},he=["disabled"],xe={key:0,class:"icon mgc_check_line text-lg"},we={class:"flex flex-col lg:flex-row lg:items-start gap-5 mt-44"},ke={class:"bg-white w-full lg:w-1/4 rounded shadow divide-y divide-solid"},Le={class:"text-xl flex items-center gap-1 p-3 text-gray-700"},$e={class:"flex flex-col gap-3 divide-y divide-solid"},Ce={class:"px-3 py-1"},Se={for:"country_id",class:"block text-sm mb-2 dark:text-white"},je={value:"0"},Be=["value"],Ne={class:"px-3 py-1"},Ue={for:"city",class:"block text-sm mb-2 dark:text-white"},Fe={value:"0"},Me=["value"],Re={class:"px-3 py-1"},Ge={for:"category_id",class:"block text-sm mb-2 dark:text-white"},ze={value:"",disabled:"",selected:""},Ae=["value"],Te={key:0,class:"px-3 pt-1 pb-3"},Ve={for:"sub_category_id",class:"block text-sm mb-2 dark:text-white"},Oe={value:"",disabled:"",selected:""},qe=["value"],Ee={key:0,class:"flex-1"},He={class:"relative flex flex-col min-w-0 break-words w-full ads-list"},Ze={key:0,class:"py-4 grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-200 dark:border-gray-700"},De={class:"text-sm text-gray-600 dark:text-gray-400"},Ie={class:"font-semibold text-gray-800 dark:text-gray-200"},Je={class:"inline-flex gap-x-2"},Pe=["disabled"],Ke=["disabled"],Qe={key:1,class:"flex items-center justify-center w-full h-full"},We=["src"],Xe={key:1,class:"relative w-full"},Ye={key:1,class:"flex justify-center items-center"},lt=G({__name:"show",setup(et){const _=I(),S=z(),b=J(),i=A(),a=k({}),h=T(),j=V(),x=k(!1),w=k(!0),B=async()=>{w.value=!0;try{const{data:s}=await H.get(`/stores/${h.params.id}`);return s.ok&&(a.value=s.store,await Z(),w.value=!1),s.ok}catch(s){s.response.status===404&&await j.push({name:"404"})}},N=s=>{a.value.is_following_store=s};return L(()=>i.filters.country_id,async s=>{s&&await b.fetchCities(!1,!1,s)},{immediate:!0}),L(()=>i.filters.category,async s=>{s&&await _.fetchSubCategories(s)},{immediate:!0}),L(()=>i.filters,async s=>{!s.user_id||!s.pagination||await i.fetch()},{deep:!0}),O(async()=>{h.params.id&&await B().then(async s=>{s&&(await _.fetch(),await b.fetchCountries(),await i.resetAll()&&(i.filters={user_id:parseInt(h.params.id),pagination:1}))})}),(s,t)=>{var $;const U=p("v-followButton"),F=p("router-link"),y=p("v-select"),M=p("v-skeleton"),R=p("v-loader");return r(),d("div",P,[w.value?(r(),d("div",Ye,[f(R,{color:"blue",size:8})])):(r(),d(u,{key:0},[e("section",K,[e("div",{class:"absolute top-0 w-full h-full bg-center bg-cover",style:q(`background-image: url('${a.value.business_cover_url}');`)},[...t[8]||(t[8]=[e("span",{id:"blackOverlay",class:"w-full h-full absolute opacity-50 bg-black"},null,-1)])],4),t[9]||(t[9]=e("div",{class:"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px",style:{transform:"translateZ(0px)"}},[e("svg",{class:"absolute bottom-0 overflow-hidden",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},[e("polygon",{class:"text-blueGray-200 fill-current",points:"2560 0 2560 100 0 100"})])],-1))]),e("div",Q,[e("section",W,[e("div",X,[e("figure",Y,[e("img",{alt:"Store logo",src:a.value.business_logo_url,class:"object-cover shadow-lg rounded-full w-24 h-24 border-4 border-blue-200 mx-auto bg-black"},null,8,ee),e("figcaption",te,[e("h2",se,[c(l(a.value.name)+" ",1),a.value.business_is_verified?(r(),d("span",oe,[...t[10]||(t[10]=[e("svg",{class:"h-5 fill-blue-400",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",x:"0",y:"0"},[e("path",{d:"M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"})],-1)])])):v("",!0)]),e("p",{class:"text-sm text-blueGray-400 mt-1",innerHTML:a.value.business_bio??"--"},null,8,le)])]),e("div",ie,[e("div",ne,[e("a",re,[t[11]||(t[11]=e("i",{class:"icon mgc_phone_add_fill"},null,-1)),e("span",ae," ("+l(a.value.country_code??"--")+") "+l(a.value.phone_number??"--"),1)]),t[13]||(t[13]=e("div",{class:"hidden lg:block h-[30px] w-[1px] bg-gray-300"},null,-1)),e("a",de,[t[12]||(t[12]=e("i",{class:"icon mgc_mail_fill"},null,-1)),e("span",ue,l(a.value.business_email??"--"),1)])]),e("div",ce,[e("div",fe,[e("div",ge,[e("div",_e,[e("h2",pe,l(a.value.advertisements),1),e("p",ve,l(s.$t("Advertisements")),1)]),t[14]||(t[14]=e("div",{class:"w-[2px] h-8 bg-blueGray-200"},null,-1)),e("div",me,[e("h2",be,l(a.value.followers),1),e("p",ye,l(s.$t("Followers")),1)])])]),a.value.id&&(($=n(S).me)==null?void 0:$.id)!==a.value.id?(r(),C(U,{key:0,"onOn:response":t[0]||(t[0]=o=>N(o)),"onOn:loading":t[1]||(t[1]=o=>x.value=o),"is-following":a.value.is_following_store,"user-id":a.value.id,followLoading:x.value,typeFollowing:"business"},{button:g(()=>[e("button",{type:"button",class:E(["bg-transparent border font-semibold px-5 py-2 rounded-full transition-colors flex items-center justify-center gap-4",a.value.is_following_store?"border-red-400 text-red-400 hover:bg-red-400 hover:text-white":"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-white"]),disabled:x.value},[a.value.is_following_store?(r(),d("i",xe)):v("",!0),c(" "+l(a.value.is_following_store?s.$t("Unfollow"):s.$t("Follow")),1)],10,he)]),_:1},8,["is-following","user-id","followLoading"])):v("",!0),f(F,{to:{name:"chat",query:{user_id:a.value.id,type:"business"},params:{slug:a.value.business_slug}},class:"bg-transparent border border-black font-semibold px-5 py-2 rounded-full transition-colors flex items-center justify-center gap-4"},{default:g(()=>[t[15]||(t[15]=e("i",{class:"icon mgc_chat_2_line text-lg"},null,-1)),c(" "+l(s.$t("Send Message")),1)]),_:1},8,["to"])])])])]),e("div",we,[e("aside",ke,[e("h3",Le,[t[16]||(t[16]=e("i",{class:"icon mgc_filter_2_fill"},null,-1)),c(" "+l(s.$t("Sort by")),1)]),e("div",$e,[e("div",Ce,[e("label",Se,l(s.$t("Country")),1),f(y,{id:"country_id",name:"country_id",value:n(i).filters.country_id,"onUpdate:value":t[2]||(t[2]=o=>n(i).filters.country_id=o)},{default:g(()=>[e("option",je,l(s.$t("Select Country")),1),(r(!0),d(u,null,m(n(b).countries,o=>(r(),d("option",{key:o.id,value:o.id}," @"+l(o.name),9,Be))),128))]),_:1},8,["value"])]),e("div",Ne,[e("label",Ue,l(s.$t("City")),1),f(y,{id:"city_id",name:"city_id",value:n(i).filters.city_id,"onUpdate:value":t[3]||(t[3]=o=>n(i).filters.city_id=o)},{default:g(()=>[e("option",Fe,l(s.$t("Select City")),1),(r(!0),d(u,null,m(n(b).cities,o=>(r(),d("option",{key:o.id,value:o.id}," @"+l(o.name),9,Me))),128))]),_:1},8,["value"])]),e("div",Re,[e("label",Ge,l(s.$t("Category")),1),f(y,{id:"category_id",value:n(i).filters.category,"onUpdate:value":t[4]||(t[4]=o=>n(i).filters.category=o)},{default:g(()=>[e("option",ze,l(s.$t("Select Category")),1),(r(!0),d(u,null,m(n(_).categories,o=>(r(),d("option",{key:o.id,value:o.id}," @"+l(o.name),9,Ae))),128))]),_:1},8,["value"])]),n(_).isLoading?v("",!0):(r(),d("div",Te,[e("label",Ve,l(s.$t("Sub Category")),1),f(y,{id:"sub_category_id",value:n(i).filters.sub_category,"onUpdate:value":t[5]||(t[5]=o=>n(i).filters.sub_category=o)},{default:g(()=>[e("option",Oe,l(s.$t("Select Sub Category")),1),(r(!0),d(u,null,m(n(_).subCategories,o=>(r(),d("option",{key:o.id,value:o.id}," @"+l(o.name),9,qe))),128))]),_:1},8,["value"])]))])]),n(i).isLoading?(r(),d("div",Xe,[f(M,{"loop-number":12})])):(r(),d("div",Ee,[n(i).advertisements.length?(r(),d(u,{key:0},[e("div",He,[(r(!0),d(u,null,m(n(i).advertisements,o=>(r(),C(D,{key:o.id,advertisement:o},null,8,["advertisement"]))),128))]),n(i).isLoading?v("",!0):(r(),d("div",Ze,[e("div",null,[e("p",De,[e("span",Ie,l(n(i).pagination.total),1),c(" "+l(s.$t("Results")),1)])]),e("div",null,[e("div",Je,[e("button",{onClick:t[6]||(t[6]=o=>n(i).fetch(!0,!0)),disabled:n(i).pagination.current_page===1,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[t[17]||(t[17]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1)),c(" "+l(s.$t("Previous")),1)],8,Pe),e("button",{onClick:t[7]||(t[7]=o=>n(i).fetch(!0)),disabled:n(i).pagination.current_page===n(i).pagination.last_page,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[c(l(s.$t("Next"))+" ",1),t[18]||(t[18]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m9 18 6-6-6-6"})],-1))],8,Ke)])])]))],64)):(r(),d("div",Qe,[e("img",{src:`${s.$assetUrl}/empty-trash.svg`,alt:"No advertisements found",class:"w-1/2 h-1/2"},null,8,We)]))]))])])],64))])}}});export{lt as default};
