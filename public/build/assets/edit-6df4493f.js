import{d as f,r as i,u as v,E as x,v as b,c as k,o as d,e as n,f as t,F as w,q as h,t as c,l as _,j as g,B}from"./app-4aaa95f7.js";import{_ as E}from"./DataForm.vue_vue_type_script_setup_true_lang-6bcc55db.js";import{s as N}from"./Category-ccc6bb69.js";import"./CategoryStore-7fabd6e6.js";import"./FilterStore-fc34adbf.js";const V={class:"flex flex-col"},$={class:"-m-1.5 overflow-x-auto"},j={class:"p-1.5 min-w-full inline-block align-middle"},C={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden dark:bg-slate-900 dark:border-gray-700"},U={class:"px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-b border-gray-200 dark:border-gray-700"},D={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},F={class:"text-sm text-gray-600 dark:text-gray-400"},R={class:"px-6 py-4"},T={key:1,class:"flex items-center justify-center p-4"},G=f({__name:"edit",setup(q){const o=i({name:"",description:"",status:N.active,meta_title:"",meta_description:"",meta_keywords:"",meta_robots:"",category_id:null}),l=i({}),m=v(),u=x(),s=i(!1),y=async()=>{if(m.params.id){s.value=!0;try{const{data:e}=await axios.get(`/dashboard/sub/categories/${m.params.id}`);if(e.ok){o.value={id:e.category.id,name:e.category.name,description:e.category.description,status:e.category.status,meta_title:e.category.meta_title,meta_description:e.category.meta_description,meta_keywords:e.category.meta_keywords,meta_robots:e.category.meta_robots,category_id:e.category.category_id,filters:e.category.filters??[]},await B(()=>{s.value=!1});return}await u.push({name:"categories.index"})}catch{await u.push({name:"categories.index"})}}};return b(async()=>{await y()}),(e,a)=>{const p=k("v-loader");return d(),n("div",V,[t("div",$,[t("div",j,[t("div",C,[s.value?g("",!0):(d(),n(w,{key:0},[t("div",U,[t("div",null,[t("h2",D,[a[2]||(a[2]=t("i",{class:"icon mgc_edit_2_fill"},null,-1)),h(" "+c(e.$t("Edit"))+" - "+c(o.value.name),1)]),t("p",F,c(e.$t("Update category informations and save it to your database")),1)])]),t("div",R,[_(E,{"form-data":o.value,"onUpdate:form":a[0]||(a[0]=r=>o.value=r),errors:l.value,"onUpdate:errors":a[1]||(a[1]=r=>l.value=r)},null,8,["form-data","errors"])])],64)),s.value?(d(),n("div",T,[_(p,{size:4,dark:!0})])):g("",!0)])])])])}}});export{G as default};
