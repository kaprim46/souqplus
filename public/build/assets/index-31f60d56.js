import{d as C,r as f,v as $,B as N,c as g,o as p,e as v,f as e,q as d,t as n,l,i as u,g as i,F as x,k as j,j as S,A as B}from"./app-4aaa95f7.js";import{u as A}from"./CountryStore-2b00879a.js";const L={class:"flex flex-col"},M={class:"-m-1.5 overflow-x-auto"},V={class:"p-1.5 min-w-full"},D={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden dark:bg-slate-900 dark:border-gray-700"},E={class:"px-6 py-2 grid gap-3 md:flex md:justify-between md:items-center border-b border-gray-200 dark:border-gray-700"},U={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},F={class:"text-sm text-gray-600 dark:text-gray-400"},T={class:"flex gap-x-2"},q={class:"relative overflow-x-auto"},z={class:"w-full divide-y divide-gray-200 dark:divide-gray-700"},H={class:"bg-gray-50 dark:bg-slate-800 rtl:text-right ltr:text-left"},O={scope:"col",class:"px-6 py-2"},P={class:"text-xs font-semibold uppercase tracking-wide text-gray-800 dark:text-gray-200 whitespace-nowrap"},R={scope:"col",class:"px-6 py-2"},G={class:"text-xs font-semibold uppercase tracking-wide text-gray-800 dark:text-gray-200 whitespace-nowrap"},I={class:"divide-y divide-gray-200 dark:divide-gray-700"},J={class:"px-6 py-3"},K={class:"text-sm text-gray-800 dark:text-gray-200"},Q={class:"px-6 py-3"},W={class:"px-6 py-3"},X={class:"flex justify-end gap-x-2"},Y={key:1},Z={colspan:"6"},ee={class:"flex items-center justify-center p-4"},te={key:0,class:"px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-200 dark:border-gray-700"},se={class:"text-sm text-gray-600 dark:text-gray-400"},oe={class:"font-semibold text-gray-800 dark:text-gray-200"},ae={class:"inline-flex gap-x-2"},ne=["disabled"],ie=["disabled"],re={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},le={class:"flex flex-col gap-1"},de={for:"name",class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},pe=C({__name:"index",setup(ce){const s=A(),c=f(!1),r=f({name:""}),_=async()=>{r.value.id?await s.onUpdateCountry(r.value)&&(c.value=!1,r.value={name:""}):await s.onCreateCountry(r.value)&&(c.value=!1,r.value={name:""})};return $(async()=>{s.filters.pagination=1,await N(async()=>{await s.fetchCountries()})}),(o,t)=>{const y=g("v-input"),m=g("v-button"),b=g("v-badge"),h=g("v-loader"),k=g("v-modal");return p(),v(x,null,[e("div",L,[e("div",M,[e("div",V,[e("div",D,[e("div",E,[e("div",null,[e("h2",U,[t[6]||(t[6]=e("i",{class:"icon mgc_map_pin_fill"},null,-1)),d(" "+n(o.$t("Countries")),1)]),e("p",F,n(o.$t("Manage your countries")),1)]),e("div",T,[l(y,{placeholder:o.$t("Search")},null,8,["placeholder"]),l(m,{color:"blue",onClick:t[0]||(t[0]=a=>c.value=!0),"custom-class":"whitespace-nowrap"},{default:u(()=>[t[7]||(t[7]=e("i",{class:"icon mgc_plus_line"},null,-1)),d(" "+n(o.$t("Add Country")),1)]),_:1})])]),e("div",q,[e("table",z,[e("thead",H,[e("tr",null,[e("th",O,[e("span",P,n(o.$t("Name")),1)]),e("th",R,[e("span",G,n(o.$t("How many cities")),1)]),t[8]||(t[8]=e("th",{scope:"col",class:"text-end"},null,-1))])]),e("tbody",I,[i(s).isLoading?(p(),v("tr",Y,[e("td",Z,[e("div",ee,[l(h,{size:4,dark:!0})])])])):(p(!0),v(x,{key:0},j(i(s).countries,a=>(p(),v("tr",{key:a.id},[e("td",J,[e("span",K,n(a.name),1)]),e("td",Q,[l(b,{color:a.cities_count?"green":"red",text:a.cities_count??0},null,8,["color","text"])]),e("td",W,[e("div",X,[l(m,{color:"blue",class:"whitespace-nowrap",onClick:w=>{r.value=a,c.value=!0}},{default:u(()=>[t[9]||(t[9]=e("i",{class:"icon mgc_edit_line"},null,-1)),d(" "+n(o.$t("Edit")),1)]),_:1},8,["onClick"]),l(m,{color:"red",class:"whitespace-nowrap",onClick:w=>i(s).onDeleteCountry(a.id)},{default:u(()=>[t[10]||(t[10]=e("i",{class:"icon mgc_delete_line"},null,-1)),d(" "+n(o.$t("Delete")),1)]),_:1},8,["onClick"])])])]))),128))])])]),i(s).isLoading?S("",!0):(p(),v("div",te,[e("div",null,[e("p",se,[e("span",oe,n(i(s).pagination.total),1),d(" "+n(o.$t("Results")),1)])]),e("div",null,[e("div",ae,[e("button",{onClick:t[1]||(t[1]=a=>i(s).fetchCountries(!0,!0)),disabled:i(s).pagination.current_page===1,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[t[11]||(t[11]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1)),d(" "+n(o.$t("Previous")),1)],8,ne),e("button",{onClick:t[2]||(t[2]=a=>i(s).fetchCountries(!0)),disabled:i(s).pagination.current_page===i(s).pagination.last_page,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[d(n(o.$t("Next"))+" ",1),t[12]||(t[12]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m9 18 6-6-6-6"})],-1))],8,ie)])])]))])])])]),l(k,{"is-open":c.value,"onUpdate:closeModal":t[5]||(t[5]=a=>{c.value=!1,r.value={name:""}})},{title:u(()=>{var a;return[e("h3",re,n((a=r.value)!=null&&a.id?o.$t("Edit Country"):o.$t("Add Country")),1)]}),content:u(()=>[e("form",{class:"flex flex-col gap-y-4",onSubmit:t[4]||(t[4]=B(a=>_(),["prevent"]))},[e("div",le,[e("label",de,n(o.$t("Name")),1),l(y,{id:"name",placeholder:o.$t("Name"),value:r.value.name,"onUpdate:input":t[3]||(t[3]=a=>r.value.name=a)},null,8,["placeholder","value"])]),l(m,{color:"blue",type:"submit",class:"whitespace-nowrap",disabled:i(s).isLoadingAction,loading:i(s).isLoadingAction},{default:u(()=>[t[13]||(t[13]=e("i",{class:"icon mgc_save_line"},null,-1)),d(" "+n(o.$t("Save")),1)]),_:1},8,["disabled","loading"])],32)]),_:1},8,["is-open"])],64)}}});export{pe as default};
