import{d as F,r as C,b as j,v as U,c as k,o as i,e as d,f as e,l as p,t as a,j as c,F as $,k as N,i as m,q as f,g as r,A as O}from"./app-4aaa95f7.js";import{u as S}from"./FilterStore-fc34adbf.js";const A={class:"flex flex-col gap-4"},T={key:0,class:"grid grid-cols-2 gap-2"},B={key:0,class:"text-xs text-red-600"},M={key:0,class:"text-xs text-red-600"},V={key:1,class:"flex flex-col gap-2"},D={class:"w-full"},L={key:0,class:"text-xs text-red-600"},R={class:"w-full"},E={key:0,class:"text-xs text-red-600"},P=["onClick"],q={key:2,class:"flex gap-2"},z={key:0,class:"text-xs text-red-600"},Y={key:0,class:"text-xs text-red-600"},G=F({__name:"DynamicOptions",props:{typeFilter:{},options:{},errors:{}},emits:["update:options"],setup(w,{emit:l}){const h=w,o=C({nameField:"",placeholder:"",options:[],from:"",to:""}),s=l;j(()=>o.value,t=>{s("update:options",t)},{deep:!0});const _=()=>{o.value.options.push({name:"",value:""})},b=t=>{o.value.options.splice(t,1)};return U(()=>{o.value=h.options}),(t,u)=>{const y=k("v-input"),n=k("v-button");return i(),d("div",A,[t.typeFilter?(i(),d("div",T,[e("div",null,[p(y,{placeholder:t.$t("Placeholder"),value:t.options.nameField,"onUpdate:input":u[0]||(u[0]=v=>t.options.nameField=v)},null,8,["placeholder","value"]),t.errors["options.nameField"]?(i(),d("p",B,a(t.errors["options.nameField"][0]),1)):c("",!0)]),e("div",null,[p(y,{placeholder:t.$t("Name"),value:t.options.placeholder,"onUpdate:input":u[1]||(u[1]=v=>t.options.placeholder=v)},null,8,["placeholder","value"]),t.errors["options.placeholder"]?(i(),d("p",M,a(t.errors["options.placeholder"][0]),1)):c("",!0)])])):c("",!0),t.typeFilter==="select"||t.typeFilter==="radio"||t.typeFilter==="checkbox"||t.typeFilter==="color"?(i(),d("div",V,[(i(!0),d($,null,N(o.value.options,(v,g)=>(i(),d("div",{key:g,class:"flex items-center gap-2"},[e("div",D,[p(y,{placeholder:t.$t("Option"),value:o.value.options[g].name,"onUpdate:input":x=>o.value.options[g].name=x,type:"text"},null,8,["placeholder","value","onUpdate:input"]),t.errors[`options.options.${g}.name`]?(i(),d("p",L,a(t.errors[`options.options.${g}.name`][0]),1)):c("",!0)]),e("div",R,[p(y,{placeholder:t.$t("Value"),value:o.value.options[g].value,"onUpdate:input":x=>o.value.options[g].value=x,type:"text"},null,8,["placeholder","value","onUpdate:input"]),t.errors[`options.options.${g}.value`]?(i(),d("p",E,a(t.errors[`options.options.${g}.name`][0]),1)):c("",!0)]),e("button",{onClick:x=>b(g),class:"text-red-500"},[...u[4]||(u[4]=[e("i",{class:"icon mgc_delete_2_line"},null,-1)])],8,P)]))),128)),p(n,{color:"blue",onClick:_,class:"w-fit place-self-end"},{default:m(()=>[u[5]||(u[5]=e("i",{class:"icon mgc_add_line"},null,-1)),f(" "+a(t.$t("Add Option")),1)]),_:1})])):c("",!0),t.typeFilter==="year"||t.typeFilter==="range"?(i(),d("div",q,[e("div",null,[p(y,{placeholder:t.$t("From"),value:t.options.from,"onUpdate:input":u[2]||(u[2]=v=>t.options.from=v),type:"number"},null,8,["placeholder","value"]),t.errors["options.from"]?(i(),d("p",z,a(t.errors["options.from"][0]),1)):c("",!0)]),e("div",null,[p(y,{placeholder:t.$t("To"),value:t.options.to,"onUpdate:input":u[3]||(u[3]=v=>t.options.to=v),type:"number"},null,8,["placeholder","value"]),t.errors["options.to"]?(i(),d("p",Y,a(t.errors["options.to"][0]),1)):c("",!0)])])):c("",!0)])}}}),H={class:"flex flex-col"},I={class:"-m-1.5 overflow-x-auto"},J={class:"p-1.5 min-w-full"},K={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden dark:bg-slate-900 dark:border-gray-700"},Q={class:"px-6 py-2 grid gap-3 md:flex md:justify-between md:items-center border-b border-gray-200 dark:border-gray-700"},W={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},X={class:"text-sm text-gray-600 dark:text-gray-400"},Z={class:"flex gap-x-2"},ee={class:"relative overflow-x-auto"},te={class:"w-full divide-y divide-gray-200 dark:divide-gray-700"},oe={class:"bg-gray-50 dark:bg-slate-800 rtl:text-right ltr:text-left"},se={scope:"col",class:"px-6 py-2"},le={class:"text-xs font-semibold uppercase tracking-wide text-gray-800 dark:text-gray-200 whitespace-nowrap"},re={scope:"col",class:"px-6 py-2"},ae={class:"text-xs font-semibold uppercase tracking-wide text-gray-800 dark:text-gray-200 whitespace-nowrap"},ne={class:"divide-y divide-gray-200 dark:divide-gray-700"},ie={class:"px-6 py-3 whitespace-nowrap"},de={class:"flex items-center"},pe={class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},ue={class:"px-6 py-3 whitespace-nowrap"},ce={class:"text-sm text-gray-800 dark:text-gray-200"},ve={class:"px-6 py-3 whitespace-nowrap text-end"},ge={class:"flex items-center justify-end gap-2"},ye={key:1,colspan:"5"},me={class:"flex items-center justify-center p-4"},fe={key:0,class:"px-6 py-4 grid gap-3 md:flex md:justify-between md:items-center border-t border-gray-200 dark:border-gray-700"},he={class:"text-sm text-gray-600 dark:text-gray-400"},be={class:"font-semibold text-gray-800 dark:text-gray-200"},ke={class:"inline-flex gap-x-2"},_e=["disabled"],xe=["disabled"],$e={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},we={class:"flex flex-col gap-1"},Fe={for:"name",class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},Ce={key:0,class:"text-xs text-red-600"},Ue={class:"flex flex-col gap-1"},Ne={for:"type",class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},je={key:0,class:"text-xs text-red-600"},Oe={key:0,class:"flex flex-col gap-1"},Se={class:"text-sm font-semibold text-gray-800 dark:text-gray-200"},Ae={class:"flex justify-end gap-2"},Me=F({__name:"index",setup(w){const l=S(),h=C(!1);return U(async()=>{await l.fetchFilters()}),(o,s)=>{const _=k("v-input"),b=k("v-button"),t=k("v-loader"),u=k("v-select"),y=k("v-modal");return i(),d($,null,[e("div",H,[e("div",I,[e("div",J,[e("div",K,[e("div",Q,[e("div",null,[e("h2",W,[s[9]||(s[9]=e("i",{class:"icon mgc_filter_2_fill"},null,-1)),f(" "+a(o.$t("Filters")),1)]),e("p",X,a(o.$t("Manage your filters")),1)]),e("div",Z,[p(_,{placeholder:o.$t("Search")},null,8,["placeholder"]),p(b,{color:"blue",onClick:s[0]||(s[0]=n=>h.value=!0),"custom-class":"whitespace-nowrap"},{default:m(()=>[s[10]||(s[10]=e("i",{class:"icon mgc_plus_line"},null,-1)),f(" "+a(o.$t("Add Filter")),1)]),_:1})])]),e("div",ee,[e("table",te,[e("thead",oe,[e("tr",null,[e("th",se,[e("span",le,a(o.$t("Name")),1)]),e("th",re,[e("span",ae,a(o.$t("Type")),1)]),s[11]||(s[11]=e("th",{scope:"col",class:"text-end"},null,-1))])]),e("tbody",ne,[r(l).isLoading?(i(),d("td",ye,[e("div",me,[p(t,{size:4,dark:!0})])])):(i(!0),d($,{key:0},N(r(l).data_filters,n=>(i(),d("tr",{key:n.id},[e("td",ie,[e("div",de,[e("div",pe,a(n.name),1)])]),e("td",ue,[e("div",ce,a(o.$t(n.type)),1)]),e("td",ve,[e("div",ge,[p(b,{color:"blue",onClick:v=>{r(l).setData(n),h.value=!0}},{default:m(()=>[...s[12]||(s[12]=[e("i",{class:"icon mgc_edit_line"},null,-1)])]),_:1},8,["onClick"]),p(b,{color:"red"},{default:m(()=>[...s[13]||(s[13]=[e("i",{class:"icon mgc_delete_2_line"},null,-1)])]),_:1})])])]))),128))])])]),r(l).isLoading?c("",!0):(i(),d("div",fe,[e("div",null,[e("p",he,[e("span",be,a(r(l).pagination.total),1),f(" "+a(o.$t("Results")),1)])]),e("div",null,[e("div",ke,[e("button",{onClick:s[1]||(s[1]=n=>r(l).fetchFilters(!0,!0)),disabled:r(l).pagination.current_page===1,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[s[14]||(s[14]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1)),f(" "+a(o.$t("Previous")),1)],8,_e),e("button",{onClick:s[2]||(s[2]=n=>r(l).fetchFilters(!0)),disabled:r(l).pagination.current_page===r(l).pagination.last_page,type:"button",class:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},[f(a(o.$t("Next"))+" ",1),s[15]||(s[15]=e("svg",{class:"flex-shrink-0 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m9 18 6-6-6-6"})],-1))],8,xe)])])]))])])])]),p(y,{"is-open":h.value,"onUpdate:closeModal":s[8]||(s[8]=n=>{h.value=!1,r(l).resetAll()})},{title:m(()=>{var n;return[e("h3",$e,a((n=r(l).data_filter)!=null&&n.id?o.$t("Edit Filter"):o.$t("Add Filter")),1)]}),content:m(()=>[e("form",{class:"flex flex-col gap-y-4",onSubmit:s[7]||(s[7]=O(n=>{var v;return(v=r(l).data_filter)!=null&&v.id?r(l).updateFilter():r(l).storeFilter()},["prevent"]))},[e("div",we,[e("label",Fe,a(o.$t("Name")),1),p(_,{id:"name",placeholder:o.$t("Filter Name"),value:r(l).data_filter.name,"onUpdate:input":s[3]||(s[3]=n=>r(l).data_filter.name=n)},null,8,["placeholder","value"]),r(l).errors.name?(i(),d("p",Ce,a(r(l).errors.name[0]),1)):c("",!0)]),e("div",Ue,[e("label",Ne,a(o.$t("Type")),1),p(u,{id:"type",options:[{label:o.$t("Text"),value:"text"},{label:o.$t("Number"),value:"number"},{label:o.$t("Select"),value:"select"},{label:o.$t("Range"),value:"range"},{label:o.$t("Checkbox"),value:"checkbox"},{label:o.$t("Radio"),value:"radio"},{label:o.$t("Year"),value:"year"},{label:o.$t("Color"),value:"color"}],value:r(l).data_filter.type,"onUpdate:value":s[4]||(s[4]=n=>r(l).setFilterType(n))},null,8,["options","value"]),r(l).errors.type?(i(),d("p",je,a(r(l).errors.type[0]),1)):c("",!0)]),r(l).data_filter.type&&r(l).data_filter.options?(i(),d("div",Oe,[e("span",Se,a(o.$t("Options")),1),p(G,{"type-filter":r(l).data_filter.type,options:r(l).data_filter.options,errors:r(l).errors,"onUpdate:options":s[5]||(s[5]=n=>r(l).data_filter.options=n)},null,8,["type-filter","options","errors"])])):c("",!0),e("div",Ae,[p(b,{color:"blue",onClick:s[6]||(s[6]=n=>{h.value=!1,r(l).resetAll()})},{default:m(()=>[f(a(o.$t("Cancel")),1)]),_:1}),p(b,{color:"green",type:"submit"},{default:m(()=>[f(a(o.$t("Save")),1)]),_:1})])],32)]),_:1},8,["is-open"])],64)}}});export{Me as default};
