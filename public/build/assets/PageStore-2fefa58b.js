import{G as g,s as r,B as o,H as n,C as i,S as p}from"./app-4aaa95f7.js";const l=g({id:"page",state:()=>({pages:[],page:{},pagination:{current_page:1,last_page:1,per_page:1,total:1},isLoading:!0,filters:{}}),getters:{},actions:{async getPages(s=!1,t=!1){this.isLoading=!0;let a={};this.filters.search&&(a.search=this.filters.search),this.filters.order_by&&(a.order_by=this.filters.order_by),s&&(t?this.pagination.current_page--:this.pagination.current_page++);try{const{data:e}=await r.get(`/dashboard/pages?page=${this.pagination.current_page}`,{params:{...a}});e.ok&&(this.pages=e.pages.data,this.pagination={current_page:e.pages.current_page,last_page:e.pages.last_page,per_page:e.pages.per_page,total:e.pages.total}),await o(),this.isLoading=!1}catch{this.isLoading=!1}},async onDelete(s){const{value:t}=await n.fire({title:i("Are you sure?"),text:i("You will not be able to recover this customer!"),icon:"warning",showCancelButton:!0,confirmButtonText:i("Yes, delete it!"),cancelButtonText:i("No, keep it")});if(t)try{const{data:a}=await r.delete(`/dashboard/pages/${s}`);a.ok&&(this.pages=this.pages.filter(e=>e.id!==s)),await o(),p({group:"dashboard",ok:a.ok,title:a.ok?i("Success"):i("Error"),text:a.message},2e3)}catch(a){console.log(a)}},async fetchPage(s){this.isLoading=!0;try{const{data:t}=await r.get(`/dashboard/pages/${s}`);t.ok&&(this.page=t.page)}catch(t){console.log(t)}finally{this.isLoading=!1}}}});export{l as u};
